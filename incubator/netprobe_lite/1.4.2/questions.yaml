groups:
  - name: App Configuration
    description: Configure the Netprobe application

portals:
  web_portal:
    protocols:
      - http
    host:
      - "{{ .Release.Name }}"
    ports:
      - 80

questions:
  - variable: netprobe
    group: App Configuration
    label: Netprobe Configuration
    schema:
      additional_attrs: true
      type: dict
      attrs: []  # Changed to an empty array

  - variable: service
    label: Main Service
    description: The primary service on which the healthcheck runs, often the webUI
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: service_port
          label: Main Service Port Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: port
                label: Port
                description: This port exposes the container port on the service
                schema:
                  type: int
                  default: 3001
                  required: true

  - variable: prometheus_data
    label: Prometheus Data Storage
    description: Stores the Prometheus data.
    schema:
      additional_attrs: true
      type: dict
      attrs: []  # Changed to an empty array

  - variable: grafana_data
    label: Grafana Data Storage
    description: Stores the Grafana data.
    schema:
      additional_attrs: true
      type: dict
      attrs: []  # Changed to an empty array

  - variable: ingress
    label: Main Ingress
    schema:
      additional_attrs: true
      type: dict
      attrs: []  # Changed to an empty array

# Include{securityContextRoot}

# Include{resources}
# Include{advanced}
# Include{addons}
